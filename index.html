<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeeSmartHealthy - สุขภาพดีเริ่มต้นที่นี่</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/src/assets/css/style.css">
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="main-content">
        <section class="hero-section">
            <div class="hero-content">
                <h1>ยินดีต้อนรับสู่ TeeSmartHealthy</h1>
                <p>แหล่งรวมความรู้ด้านสุขภาพ อาหารการกิน และการออกกำลังกาย</p>
                <div class="hero-buttons">
                    <a href="/src/pages/articles.html" class="btn primary-btn">อ่านบทความ</a>
                    <a href="/src/pages/recipes.html" class="btn secondary-btn">ดูสูตรอาหาร</a>
                </div>
            </div>
        </section>

        <section class="featured-articles">
            <div class="section-header">
                <h2>บทความแนะนำ</h2>
                <a href="/src/pages/articles.html" class="view-all">ดูทั้งหมด <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="grid-container" id="featured-articles-grid"></div>
        </section>

        <section class="latest-recipes">
            <div class="section-header">
                <h2>สูตรอาหารล่าสุด</h2>
                <a href="/src/pages/recipes.html" class="view-all">ดูทั้งหมด <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="grid-container" id="latest-recipes-grid"></div>
        </section>

        <section class="health-tips">
            <div class="section-header">
                <h2>เคล็ดลับสุขภาพ</h2>
            </div>
            <div class="tips-container">
                <div class="tip-card">
                    <i class="fas fa-heartbeat"></i>
                    <h3>ออกกำลังกายสม่ำเสมอ</h3>
                    <p>แค่วันละ 30 นาที ช่วยเสริมสร้างสุขภาพที่ดี</p>
                </div>
                <div class="tip-card">
                    <i class="fas fa-carrot"></i>
                    <h3>ทานอาหารให้ครบ 5 หมู่</h3>
                    <p>รับประทานอาหารที่หลากหลาย ครบถ้วนคุณค่า</p>
                </div>
                <div class="tip-card">
                    <i class="fas fa-bed"></i>
                    <h3>พักผ่อนให้เพียงพอ</h3>
                    <p>นอนหลับ 7-8 ชั่วโมงต่อวัน ช่วยฟื้นฟูร่างกาย</p>
                </div>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script type="module">
        import { fetchImages } from '/src/assets/js/api.js';
        import { articles } from '/src/assets/js/articles-data.js';
        import { recipes } from '/src/assets/js/recipes-data.js';

        async function loadFeaturedContent() {
            // โหลดบทความแนะนำ
            const featuredArticles = articles.slice(0, 3);
            const articlesGrid = document.getElementById('featured-articles-grid');
            
            for (const article of featuredArticles) {
                const images = await fetchImages(article.image_query, 1);
                const articleElement = document.createElement('article');
                articleElement.className = 'grid-item article-card';
                articleElement.innerHTML = `
                    <img src="${images[0].src.large}" alt="${article.title}">
                    <div class="grid-item-content">
                        <div class="article-meta">
                            <span class="category">${article.category}</span>
                            <span class="date">${article.date}</span>
                        </div>
                        <h3>${article.title}</h3>
                        <p>${article.description}</p>
                        <a href="/src/pages/articles.html" class="read-more">อ่านเพิ่มเติม</a>
                    </div>
                `;
                articlesGrid.appendChild(articleElement);
            }

            // โหลดสูตรอาหารล่าสุด
            const latestRecipes = recipes.slice(0, 3);
            const recipesGrid = document.getElementById('latest-recipes-grid');
            
            for (const recipe of latestRecipes) {
                const images = await fetchImages(recipe.image_query, 1);
                const recipeElement = document.createElement('article');
                recipeElement.className = 'grid-item recipe-card';
                recipeElement.innerHTML = `
                    <img src="${images[0].src.large}" alt="${recipe.title}">
                    <div class="grid-item-content">
                        <h3>${recipe.title}</h3>
                        <p>${recipe.description}</p>
                        <div class="recipe-meta">
                            <span><i class="fas fa-clock"></i> ${recipe.time}</span>
                            <span><i class="fas fa-fire"></i> ${recipe.nutrition.calories}</span>
                        </div>
                        <a href="/src/pages/recipes.html" class="read-more">ดูสูตรอาหาร</a>
                    </div>
                `;
                recipesGrid.appendChild(recipeElement);
            }
        }

        document.addEventListener('DOMContentLoaded', loadFeaturedContent);
    </script>
</body>
</html>